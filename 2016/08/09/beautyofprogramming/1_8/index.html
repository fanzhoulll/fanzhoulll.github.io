<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>Elevator scheduling | Fan Zhou</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Problem: Assuming a building has N levels. The elevator will only stop at one level (to save time), and people have to climb to the level they choose. Designing an elevator scheduling algorithm, so th">
<meta property="og:type" content="article">
<meta property="og:title" content="Elevator scheduling">
<meta property="og:url" content="http://yoursite.com/2016/08/09/beautyofprogramming/1_8/index.html">
<meta property="og:site_name" content="Fan Zhou">
<meta property="og:description" content="Problem: Assuming a building has N levels. The elevator will only stop at one level (to save time), and people have to climb to the level they choose. Designing an elevator scheduling algorithm, so th">
<meta property="og:updated_time" content="2016-08-11T13:06:34.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Elevator scheduling">
<meta name="twitter:description" content="Problem: Assuming a building has N levels. The elevator will only stop at one level (to save time), and people have to climb to the level they choose. Designing an elevator scheduling algorithm, so th">
  
    <link rel="alternate" href="/atom.xml" title="Fan Zhou" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  

</head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Fan Zhou</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-beautyofprogramming/1_8" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/09/beautyofprogramming/1_8/" class="article-date">
  <time datetime="2016-08-09T07:47:35.000Z" itemprop="datePublished">2016-08-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/The-Art-of-Algorithm/">The Art of Algorithm</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Elevator scheduling
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><em>Problem:</em> Assuming a building has <em>N</em> levels. The elevator will only stop at one level (to save time), and people have to climb to the level they choose. Designing an elevator scheduling algorithm, so that the total levels people have to climb are minimized.</p>
<p><em>Solution 1:</em> Assuming elevator stops at level <em>K</em>, and the number of people to level <em>i</em> is $n_i$. So the total levels people have climb is $L_t = \sum_{i=1}^{N} n_i*|K-i|$.</p>
<p>The obvious solution is to compute $L_t$ for <em>K=1 to N</em>, and then choose the target <em>K</em> that leads to the minimum $L_t$. The code is also straightforward:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">targetK = <span class="number">0</span>;</div><div class="line">lt = <span class="number">0</span>, lmin = <span class="number">0</span>;</div><div class="line"><span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>; k &lt; N; k++)</div><div class="line">&#123;</div><div class="line">  lt = <span class="number">0</span>;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i &lt; N; i++)</div><div class="line">    <span class="comment">// n[] saves number of people that choose each level</span></div><div class="line">    lt += <span class="built_in">abs</span>(k-i)*n[i];</div><div class="line">  <span class="keyword">if</span> ((lt &lt; lmin) || (lmin == <span class="number">0</span>))</div><div class="line">  &#123;</div><div class="line">    lmin = lt;</div><div class="line">    targetK = k;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> targetK;</div></pre></td></tr></table></figure>
<p>The time complexity of this algorithm is O($N^2$).</p>
<p><em>Solution 2:</em> Assuming total levels people have to climb is $L_i$ if elevator stops at level <em>i</em>. Then what is $L_{i+1}$ ?</p>
<p>Let $n_p$ denote total number of people that choose level <em>i</em> and below, and $n_q$ denote the rest, then we have $L_{i+1} = L_i + n_p - n_q$. It is easy to see that $L_{i+1} &lt; L_i$ if $n_p &lt; n_q$. Note $n_q = N-n_p$, the condition can be further simplified to $n_p &lt; N/2$. This implies that $L_i$ keeps decreasing as long as $n_p &lt; N/2$ and reaches minimum before $n_p &gt;= N/2$. This lead us to the following simple algorithm:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">np = <span class="number">0</span>;</div><div class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;N; i++)</div><div class="line">&#123;</div><div class="line">  np += n[i];</div><div class="line">  <span class="keyword">if</span> (np &gt;= N/<span class="number">2</span>)</div><div class="line">    <span class="keyword">break</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">return</span> i;</div></pre></td></tr></table></figure>
<p>This algorithm effectively reduce the time complexity to O(<em>N</em>). Besides it remove the need of computing $L_t$ and is more simple to implement. The takeaway is that by deep understand the problem and save the intermediate variable ($L_i$ in this example), the computation complexity can be greatly reduced.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/08/09/beautyofprogramming/1_8/" data-id="cis3bp1ay000bxal9vujcnxf5" class="article-share-link">Share</a>
      
        <a href="http://yoursite.com/2016/08/09/beautyofprogramming/1_8/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/algorithm/">algorithm</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/08/13/beautyofprogramming/1_16/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          24 Game
        
      </div>
    </a>
  
  
    <a href="/2016/08/05/programmingpearls/column8/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Algorithm design techniques (column 8)</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Notes-of-Programming-Pearls/">Notes of Programming Pearls</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Programming-tricks/">Programming tricks</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/The-Art-of-Algorithm/">The Art of Algorithm</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithm/">algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/programming-pearls/">programming pearls</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/algorithm/" style="font-size: 15px;">algorithm</a> <a href="/tags/programming-pearls/" style="font-size: 20px;">programming pearls</a> <a href="/tags/python/" style="font-size: 10px;">python</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/08/20/network/test/">Cracking the Oyster (column 1)</a>
          </li>
        
          <li>
            <a href="/2016/08/19/programmingpearls/column12/">A Sample Problem (column 11)</a>
          </li>
        
          <li>
            <a href="/2016/08/18/programmingpearls/column11/">Sorting (column 11)</a>
          </li>
        
          <li>
            <a href="/2016/08/16/programmingpearls/column10/">Squeezing Space (column 10)</a>
          </li>
        
          <li>
            <a href="/2016/08/13/beautyofprogramming/1_16/">24 Game</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Fan Zhou<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = 'fanzhoulll';
  
  var disqus_url = 'http://yoursite.com/2016/08/09/beautyofprogramming/1_8/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>